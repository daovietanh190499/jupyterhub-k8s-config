# This file can update the JupyterHub Helm chart's default configuration values.
#
# For reference see the configuration reference and default values, but make
# sure to refer to the Helm chart version of interest to you!
#
# Introduction to YAML:     https://www.youtube.com/watch?v=cdLNKUoMc6c
# Chart config reference:   https://zero-to-jupyterhub.readthedocs.io/en/stable/resources/reference.html
# Chart default values:     https://github.com/jupyterhub/zero-to-jupyterhub-k8s/blob/HEAD/jupyterhub/values.yaml
# Available chart versions: https://jupyterhub.github.io/helm-chart/
#

singleuser:
  defaultUrl: "/lab"
  extraEnv:
    JUPYTERHUB_SINGLEUSER_APP: "jupyter_server.serverapp.ServerApp"
#  image:
#    name: cschranz/gpu-jupyter
#    tag: latest
hub:
  config:
    GitHubOAuthenticator:
      client_id: 6c0a1d059a39cea43c1d
      client_secret: ced85cabc3963bd6336a2c349ecd2204f84cd07a
      oauth_callback_url: http://14.232.152.54:1611/hub/oauth_callback
    JupyterHub:
      authenticator_class: github
    Authenticator:
      admin_users:
        - daovietanh190499
        - gungui98
  extraConfig:
    spawner: |
      async def custom_options_form(self):
          auth_state = await self.user.get_auth_state()
          #user_details = auth_state['oauth_user']
          #username = user_details['preferred_username']

          self.profile_list = [
              {
                  'default': True,
                  'display_name': 'Lollipop Notebook',
                  'description': '8 cores, 8G memory',
                  'kubespawner_override': {
                    'image: jupyter/scipy-notebook'
                    'cpu_limit': 8,
                    'mem_limit': '8G',
                  }
              },
             {
                  'display_name': 'Oreo Notebook',
                  'description': '16 cores, 32G memory',
                  'kubespawner_override': {
                    'image: jupyter/scipy-notebook'
                    'cpu_limit': 16,
                    'mem_limit': '32G',
                  }
              },
              
          ]
          return self._options_form_default()

      c.KubeSpawner.options_form = custom_options_form
    
proxy:
  https:
    enabled: true
    hosts:
      - 14.232.152.54
    letsencrypt:
      contactEmail: daovietanh190499dev@gmail.com
proxy:
  service:
    loadBalancerIP: 10.1.12.200
